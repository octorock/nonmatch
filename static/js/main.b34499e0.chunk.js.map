{"version":3,"sources":["asm-mode.js","api.ts","components/CodeEditor.tsx","components/DiffEditor.tsx","eventBus.ts","components/ErrorAlert.tsx","components/LoadingIndicator.tsx","components/ErrorLog.tsx","components/SubmitDialog.tsx","components/SuccessToast.tsx","constants.ts","repositories/function.ts","repositories/user.ts","pages/EditorPage.tsx","pages/DashboardPage.tsx","components/Container.tsx","pages/LoginPage.tsx","pages/NotFoundPage.tsx","components/Navbar.tsx","pages/FunctionsPage.tsx","pages/SubmissionsPage.tsx","pages/SettingsPage.tsx","pages/LogoutPage.tsx","pages/PullRequestPage.tsx","App.tsx","reportWebVitals.ts","index.tsx"],"names":["monaco","require","def","defaultToken","escapes","registers","intelOperators","tokenizer","root","token","next","include","rest","bracket","comment","string","whitespace","languages","register","id","setMonarchTokensProvider","module","exports","param","parameterName","result","tmp","window","location","search","substring","split","forEach","item","decodeURIComponent","findGetParameter","localStorage","setItem","console","log","getItem","getToken","get","url","a","options","Headers","fetch","res","ok","json","request","data","method","body","JSON","stringify","Promise","resolve","reject","then","post","put","editor","eventBus","on","event","callback","document","addEventListener","e","detail","dispatch","dispatchEvent","CustomEvent","remove","removeEventListener","prevDecorations","fadeTimeoutId","CodeEditor","code","stderr","onCodeChange","mouseMoveThrottledFunction","throttle","target","position","line","lineNumber","useEffect","widgets","flatMap","obj","tag","severity","text","match","message","startLineNumber","startColumn","column","endLineNumber","endColumn","Infinity","setModelMarkers","getModel","onLineLink","reveal","revealLineInCenter","decorations","range","Range","isWholeLine","linesDecorationsClassName","className","deltaDecorations","clearTimeout","setTimeout","width","height","language","theme","value","automaticLayout","minimap","enabled","onChange","editorDidMount","_editor","_monaco","focus","onMouseMove","gLines","DiffEditor","compiledAsm","originalAsm","lines","onScoreChange","length","hoverAsm","source","onPanesLinkLine","lineNums","index","push","map","getOriginalEditor","original","readOnly","domReadOnly","onDidUpdateDiff","score","lineChanges","getLineChanges","change","Math","max","originalEndLineNumber","originalStartLineNumber","modifiedEndLineNumber","modifiedStartLineNumber","ErrorAlert","error","role","xmlns","fill","viewBox","aria-label","d","LoadingIndicator","small","style","ErrorLog","isCompiling","getLineClass","fontFamily","fontSize","padding","flex","display","flexDirection","alignItems","justifyContent","onMouseEnter","onClick","SubmitDialog","isEquivalent","setIsEquivalent","submit","isLoggedIn","username","setUsername","email","setEmail","tabIndex","type","data-bs-dismiss","aria-hidden","to","href","placeholder","checked","SuccessToast","zIndex","navigator","clipboard","writeText","API_URL","functions","getFunction","undefined","users","currentUser","getUser","getCurrentUser","saveCurrentUser","user","justSubmitted","EditorPage","useState","cCode","setCCode","setIsCompiling","asm","compiled","setCompiled","setOriginalAsm","func","setFunc","setScore","setError","isSubmitting","setIsSubmitting","setIsLoggedIn","hasUnsubmittedChanges","setHasUnsubmittedChanges","debouncedCompile","useCallback","debounce","nextValue","compile","newValue","parseCompileData","join","compiler","userArguments","compilerOptions","produceGccDump","produceCfg","filters","labels","binary","commentOnly","demangle","directives","execute","intel","libraryCode","trim","tools","libraries","lang","allowStoreCodeDebug","submission","parseInt","parse","is_equivalent","bootstrap","Toast","getElementById","show","loadFunction","params","function","history","useHistory","showSubmitDialog","Modal","parent","replace","common","when","innerWidth","aria-labelledby","overflow","borderTop","backgroundColor","data-bs-toggle","data-bs-target","aria-controls","aria-selected","overflowX","paddingLeft","name","minSize","size","background","cursor","expandInteractiveArea","left","right","vertical","top","bottom","defaultSize","disabled","DashboardPage","Container","centered","children","LoginPage","loginWithGitHub","NotFoundPage","Navbar","aria-expanded","FunctionsPage","isLoading","setIsLoading","setFunctions","fetchFunctions","Sortable","init","data-sortable","colSpan","file","best_score","SubmissionsPage","submissions","setSubmissions","i","owner","ownerName","time_created","DateTime","fromISO","toLocaleString","year","month","day","hour","minute","timeZoneName","fetchSubmissions","marginTop","SettingsPage","setCurrentUser","loadCurrentUser","save","htmlFor","LogoutPage","loggedOut","setLoggedOut","removeItem","PullRequestPage","isSecondPage","setIsSecondPage","matches","setMatches","selected","setSelected","title","setTitle","setText","setUrl","rows","defaultChecked","includes","evt","filter","x","findIndex","m","App","onUserChanged","reload","path","exact","component","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render"],"mappings":"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","file":"static/js/main.b34499e0.chunk.js","sourcesContent":["// Copyright (c) 2012, Compiler Explorer Authors\r\n// All rights reserved.\r\n//\r\n// Redistribution and use in source and binary forms, with or without\r\n// modification, are permitted provided that the following conditions are met:\r\n//\r\n//     * Redistributions of source code must retain the above copyright notice,\r\n//       this list of conditions and the following disclaimer.\r\n//     * Redistributions in binary form must reproduce the above copyright\r\n//       notice, this list of conditions and the following disclaimer in the\r\n//       documentation and/or other materials provided with the distribution.\r\n//\r\n// THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\"\r\n// AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE\r\n// IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE\r\n// ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE\r\n// LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR\r\n// CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF\r\n// SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS\r\n// INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN\r\n// CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)\r\n// ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE\r\n// POSSIBILITY OF SUCH DAMAGE.\r\n\r\nvar monaco = require('monaco-editor');\r\n\r\nfunction definition() {\r\n    return {\r\n        // Set defaultToken to invalid to see what you do not tokenize yet\r\n        defaultToken: 'invalid',\r\n\r\n        // C# style strings\r\n        escapes: /\\\\(?:[abfnrtv\\\\\"']|x[0-9A-Fa-f]{1,4}|u[0-9A-Fa-f]{4}|U[0-9A-Fa-f]{8})/,\r\n\r\n        registers: /%?\\b(r[0-9]+[dbw]?|([er]?([abcd][xhl]|cs|fs|ds|ss|sp|bp|ip|sil?|dil?))|[xyz]mm[0-9]+|sp|fp|lr)\\b/,\r\n\r\n        intelOperators: /PTR|(D|Q|[XYZ]MM)?WORD/,\r\n\r\n        tokenizer: {\r\n            root: [\r\n                // Error document\r\n                [/^<.*>$/, {token: 'annotation'}],\r\n                // Label definition\r\n                [/^[.a-zA-Z0-9_$?@].*:/, {token: 'type.identifier'}],\r\n                // Label definition (ARM style)\r\n                [/^\\s*[|][^|]*[|]/, {token: 'type.identifier'}],\r\n                // Label definition (CL style)\r\n                [/^\\s*[.a-zA-Z0-9_$|]*\\s*(PROC|ENDP|DB|DD)/, {token: 'type.identifier'}],\r\n                // Constant definition\r\n                [/^[.a-zA-Z0-9_$?@][^=]*=/, {token: 'type.identifier'}],\r\n                // opcode\r\n                [/[.a-zA-Z_][.a-zA-Z_0-9]*/, {token: 'keyword', next: '@rest'}],\r\n                // braces and parentheses at the start of the line (e.g. nvcc output)\r\n                [/[(){}]/, {token: 'operator', next: '@rest'}],\r\n\r\n                // whitespace\r\n                {include: '@whitespace'},\r\n            ],\r\n\r\n            rest: [\r\n                // pop at the beginning of the next line and rematch\r\n                [/^.*$/, {token: '@rematch', next: '@pop'}],\r\n\r\n                [/@registers/, 'variable.predefined'],\r\n                [/@intelOperators/, 'annotation'],\r\n                // brackets\r\n                [/[{}<>()[\\]]/, '@brackets'],\r\n\r\n                // ARM-style label reference\r\n                [/[|][^|]*[|]*/, 'type.identifier'],\r\n\r\n                // numbers\r\n                [/\\d*\\.\\d+([eE][-+]?\\d+)?/, 'number.float'],\r\n                [/([$]|0[xX])[0-9a-fA-F]+/, 'number.hex'],\r\n                [/\\d+/, 'number'],\r\n                // ARM-style immediate numbers (which otherwise look like comments)\r\n                [/#-?\\d+/, 'number'],\r\n\r\n                // operators\r\n                [/[-+,*/!:&{}()]/, 'operator'],\r\n\r\n                // strings\r\n                [/\"([^\"\\\\]|\\\\.)*$/, 'string.invalid'],  // non-terminated string\r\n                [/\"/, {token: 'string.quote', bracket: '@open', next: '@string'}],\r\n\r\n                // characters\r\n                [/'[^\\\\']'/, 'string'],\r\n                [/(')(@escapes)(')/, ['string', 'string.escape', 'string']],\r\n                [/'/, 'string.invalid'],\r\n\r\n                // Assume anything else is a label reference\r\n                [/%?[.?_$a-zA-Z@][.?_$a-zA-Z0-9@]*/, 'type.identifier'],\r\n\r\n                // whitespace\r\n                {include: '@whitespace'},\r\n            ],\r\n\r\n            comment: [\r\n                [/[^/*]+/, 'comment'],\r\n                [/\\/\\*/, 'comment', '@push'],    // nested comment\r\n                ['\\\\*/', 'comment', '@pop'],\r\n                [/[/*]/, 'comment'],\r\n            ],\r\n\r\n            string: [\r\n                [/[^\\\\\"]+/, 'string'],\r\n                [/@escapes/, 'string.escape'],\r\n                [/\\\\./, 'string.escape.invalid'],\r\n                [/\"/, {token: 'string.quote', bracket: '@close', next: '@pop'}],\r\n            ],\r\n\r\n            whitespace: [\r\n                [/[ \\t\\r\\n]+/, 'white'],\r\n                [/\\/\\*/, 'comment', '@comment'],\r\n                [/\\/\\/.*$/, 'comment'],\r\n                [/[#;\\\\@].*$/, 'comment'],\r\n            ],\r\n        },\r\n    };\r\n}\r\n\r\nvar def = definition();\r\nmonaco.languages.register({id: 'asm'});\r\nmonaco.languages.setMonarchTokensProvider('asm', def);\r\n\r\nmodule.exports = def;","\nfunction findGetParameter(parameterName : string) {\n    var result = null,\n        tmp = [];\n    window.location.search\n        .substring(1)\n        .split(\"&\")\n        .forEach(function (item) {\n          tmp = item.split(\"=\");\n          if (tmp[0] === parameterName) result = decodeURIComponent(tmp[1]);\n        });\n    return result;\n}\n\nfunction getToken() {\n    let param = findGetParameter('token');\n    if (param != null) {\n        localStorage.setItem('token', param);\n        console.log('get token ', param);\n        return param;\n    }\n\n    console.log('store token ', localStorage.getItem('token'));\n    return localStorage.getItem('token');\n}\n\nlet token:string | null = getToken();\n\nfunction resetToken() {\n    localStorage.removeItem('token');\n    token = null;\n}\n\nconst verbose = false;\n\nasync function get(url: string): Promise<any> {\n    if (verbose) {\n        console.log('GET request', url)\n    }\n    let options:any = {};\n    if (token != null) {\n        options['headers'] = new Headers({\n            'Authorization': 'Basic ' + token\n        });\n    }\n    const res = await fetch(url, options);\n    if (res.ok) {\n        return res.json();\n    } else {\n        return res.json();\n      /*  return new Promise((resolve, reject) => {\n            reject(res)\n        });*/\n    }\n}\nasync function request(url: string, data:any, method: 'POST'|'PUT'): Promise<any> {\n    if (verbose) {\n        console.log(method+' request', url)\n    }\n    let options:any = {method: method, body: JSON.stringify(data)};\n    options['headers'] = {\n        'Content-Type': 'application/json'\n    };\n    if (token != null) {\n        options['headers']['Authorization'] = 'Basic ' + token\n    }\n    const res = await fetch(url, options);\n    if (res.ok) {\n        return res.json();\n    } else {\n        return new Promise((resolve, reject) => {\n            res.json().then(reject)\n        });\n    }\n}\n\nasync function post(url: string, data:any): Promise<any> {\n    return request(url, data, 'POST');\n}\nasync function put(url: string, data:any): Promise<any> {\n    return request(url, data, 'PUT');\n}\n\nexport {\n    get,\n    post,\n    put,\n    resetToken\n}","import { throttle } from \"lodash\";\r\nimport { useEffect } from \"react\";\r\nimport MonacoEditor from \"react-monaco-editor\";\r\nimport eventBus from \"../eventBus\";\r\nimport { ErrorLine } from \"../types\";\r\n\r\ninterface CodeEditorProps {\r\n  code: string,\r\n  stderr: ErrorLine[],\r\n  onCodeChange: (text: string) => void\r\n}\r\nlet monaco: any;\r\nlet editor: any;\r\nlet prevDecorations: any = [];\r\nlet fadeTimeoutId: any = -1;\r\n\r\nexport const CodeEditor: React.FC<CodeEditorProps> = ({ code, stderr, onCodeChange }) => {\r\n  const options = {\r\n    automaticLayout: true,\r\n    minimap: {\r\n      enabled: false\r\n    }\r\n  };\r\n\r\n\r\n  // Mouse move\r\n  const onMouseMove = (e: any) => {\r\n    if (e !== null && e.target !== null && e.target.position !== null) {\r\n      eventBus.dispatch('panesLinkLine', {\r\n        line: e.target.position.lineNumber\r\n      });\r\n      //          tryPanesLinkLine(e.target.position.lineNumber, false);\r\n    }\r\n  };\r\n\r\n  const mouseMoveThrottledFunction = throttle(onMouseMove, 50);\r\n\r\n\r\n  // Focus this editor at the beginning\r\n  const editorDidMount = (_editor: any, _monaco: any) => {\r\n    monaco = _monaco;\r\n    editor = _editor;\r\n    editor.focus();\r\n    editor.onMouseMove((e: any) => {\r\n      mouseMoveThrottledFunction(e);\r\n    });\r\n\r\n  }\r\n\r\n\r\n\r\n  // Draw squiggly lines\r\n  useEffect(() => {\r\n    if (!monaco) { return; }\r\n\r\n    var widgets = stderr.flatMap(function (obj) {\r\n      if (!obj.tag) return []; // Nothing\r\n      var severity = 8; // error\r\n      if (obj.tag.text.match(/^warning/i)) severity = 4;\r\n      if (obj.tag.text.match(/^note/i)) severity = 1;\r\n      return {\r\n        severity: severity,\r\n        message: obj.tag.text,\r\n        //                source: compiler.name + ' #' + compilerId,\r\n        startLineNumber: obj.tag.line,\r\n        startColumn: obj.tag.column || 0,\r\n        endLineNumber: obj.tag.line,\r\n        endColumn: obj.tag.column ? -1 : Infinity,\r\n      };\r\n    });\r\n    monaco.editor.setModelMarkers(editor.getModel(), 'stderr', widgets);\r\n  }, [stderr]);\r\n\r\n  const clearLinkedLine = () => {\r\n    prevDecorations = editor.deltaDecorations(prevDecorations, []);\r\n  };\r\n\r\n  useEffect(() => {\r\n    // Line link\r\n    const onLineLink = (data: any) => {\r\n      if (!monaco) { return; }\r\n\r\n      if (data.reveal && data.line) {\r\n        editor.revealLineInCenter(data.line);\r\n      }\r\n      let decorations = [{\r\n        range: new monaco.Range(data.line, 1, data.line, 1),\r\n        options: {\r\n          isWholeLine: true,\r\n          linesDecorationsClassName: 'linked-code-decoration-margin',\r\n          className: 'linked-code-decoration-line',\r\n        },\r\n      }];\r\n\r\n      prevDecorations = editor.deltaDecorations(prevDecorations, decorations);\r\n\r\n\r\n      if (fadeTimeoutId !== -1) {\r\n        clearTimeout(fadeTimeoutId);\r\n      }\r\n      fadeTimeoutId = setTimeout(() => {\r\n        clearLinkedLine();\r\n        fadeTimeoutId = -1;\r\n      }, 3000);\r\n    };\r\n    eventBus.on('lineLink', onLineLink);\r\n    return () => {\r\n      // Cleanup\r\n      eventBus.remove('lineLink', onLineLink);\r\n    };\r\n  }, []);\r\n\r\n\r\n  return (\r\n    <MonacoEditor\r\n      width=\"100%\"\r\n      height=\"100%\"\r\n      language=\"cpp\"\r\n      theme=\"customTheme\"\r\n      value={code}\r\n\r\n      options={options}\r\n      onChange={onCodeChange}\r\n      editorDidMount={editorDidMount}\r\n    />\r\n  );\r\n}","import React, { useEffect } from \"react\";\r\nimport { monaco, MonacoDiffEditor } from \"react-monaco-editor\";\r\nimport eventBus from \"../eventBus\";\r\nimport { AsmLine } from \"../types\";\r\nimport { throttle } from \"lodash\";\r\n\r\n\r\ninterface DiffEditorProps {\r\n    compiledAsm: string,\r\n    originalAsm: string,\r\n    lines: AsmLine[],\r\n    onScoreChange: (score: number) => void\r\n}\r\n\r\nlet editor: any;\r\nlet prevDecorations: any = [];\r\nlet fadeTimeoutId: any = -1;\r\nlet gLines: AsmLine[] = []; // get the up to date value of the lines prop in the event listener\r\n\r\nexport const DiffEditor: React.FC<DiffEditorProps> = ({ compiledAsm, originalAsm, lines, onScoreChange }) => {\r\n    gLines = lines;\r\n    const options = {\r\n        automaticLayout: true,\r\n        minimap: {\r\n            enabled: false\r\n        },\r\n        readOnly: true,\r\n        domReadOnly: true\r\n    };\r\n\r\n    // Mouse move\r\n    const onMouseMove = (e: any) => {\r\n        if (e !== null && e.target !== null && e.target.position !== null) {\r\n\r\n            if (e.target.position.lineNumber - 1 >= gLines.length) {\r\n                return;\r\n            }\r\n            const hoverAsm = gLines[e.target.position.lineNumber - 1];\r\n            if (hoverAsm.source) {\r\n                eventBus.dispatch('panesLinkLine', {\r\n                    line: hoverAsm.source.line\r\n                });\r\n            }\r\n            //          tryPanesLinkLine(e.target.position.lineNumber, false);\r\n        }\r\n    };\r\n\r\n    const mouseMoveThrottledFunction = throttle(onMouseMove, 50);\r\n\r\n\r\n    const editorDidMount = (_editor: monaco.editor.IStandaloneDiffEditor, _monaco: any) => {\r\n        editor = _editor;\r\n        editor.onDidUpdateDiff(() => {\r\n            let score = 0;\r\n            const lineChanges = editor.getLineChanges();\r\n            if (lineChanges != null) {\r\n                for (const change of lineChanges) {\r\n                    score += Math.max(change.originalEndLineNumber - change.originalStartLineNumber + 1,\r\n                        change.modifiedEndLineNumber - change.modifiedStartLineNumber + 1);\r\n                }\r\n            }\r\n            onScoreChange(score);\r\n        });\r\n        editor.getOriginalEditor().onMouseMove((e: any) => {\r\n            mouseMoveThrottledFunction(e);\r\n        });\r\n    }\r\n\r\n    const clearLinkedLine = () => {\r\n        prevDecorations = editor.getOriginalEditor().deltaDecorations(prevDecorations, []);\r\n    };\r\n\r\n    useEffect(() => {\r\n        const onPanesLinkLine = (data: any) => {\r\n            if (!editor) { return };\r\n            let lineNums: number[] = [];\r\n            // Find all corresponding asm lines\r\n            gLines.forEach((line, index) => {\r\n                if (line.source && line.source.line === data.line) {\r\n                    lineNums.push(index + 1);\r\n                }\r\n            });\r\n\r\n            if (lineNums.length > 0) {\r\n                // Also link the corresponding line in the editor\r\n                const hoverAsm = gLines[lineNums[0] - 1];\r\n                eventBus.dispatch('lineLink', {\r\n                    line: hoverAsm.source?.line\r\n                });\r\n            }\r\n\r\n\r\n            let decorations = lineNums.map((line) => {\r\n                return {\r\n                    range: new monaco.Range(line, 1, line, 1),\r\n                    options: {\r\n                        isWholeLine: true,\r\n                        linesDecorationsClassName: 'linked-code-decoration-margin',\r\n                        className: 'linked-code-decoration-line',\r\n                    },\r\n                };\r\n            });\r\n            prevDecorations = editor.getOriginalEditor().deltaDecorations(prevDecorations, decorations);\r\n\r\n            if (fadeTimeoutId !== -1) {\r\n                clearTimeout(fadeTimeoutId);\r\n            }\r\n            fadeTimeoutId = setTimeout(() => {\r\n                clearLinkedLine();\r\n                fadeTimeoutId = -1;\r\n            }, 3000);\r\n        };\r\n\r\n        eventBus.on('panesLinkLine', onPanesLinkLine);\r\n        return () => {\r\n            // Remove listeners\r\n            eventBus.remove('panesLinkLine', onPanesLinkLine)\r\n        };\r\n    }, []);\r\n\r\n    return (\r\n        <MonacoDiffEditor\r\n            language=\"asm\"\r\n            original={compiledAsm}\r\n            value={originalAsm}\r\n            options={options}\r\n            theme=\"customTheme\"\r\n            editorDidMount={editorDidMount} />);\r\n}\r\n","const eventBus = {\n    on(event: string, callback: (data:any)=>void) {\n      document.addEventListener(event, (e:any) => callback(e.detail));\n    },\n    dispatch(event:string, data: any) {\n      document.dispatchEvent(new CustomEvent(event, { detail: data }));\n    },\n    remove(event:string, callback: (data:any)=>void) {\n      document.removeEventListener(event, callback);\n    },\n  };\n  \n  export default eventBus;","interface ErrorAlertProps {\n    error?: Error | null\n}\n\nexport const ErrorAlert: React.FC<ErrorAlertProps> = ({ error }) => {\n    if (error) {\n        return (\n            <div className=\"container-fluid col-8 mt-2\">\n                <div className=\"alert alert-danger d-flex align-items-center\" role=\"alert\">\n                    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" fill=\"currentColor\" className=\"bi bi-exclamation-triangle-fill flex-shrink-0 me-2\" viewBox=\"0 0 16 16\" role=\"img\" aria-label=\"Warning:\">\n                        <path d=\"M8.982 1.566a1.13 1.13 0 0 0-1.96 0L.165 13.233c-.457.778.091 1.767.98 1.767h13.713c.889 0 1.438-.99.98-1.767L8.982 1.566zM8 5c.535 0 .954.462.9.995l-.35 3.507a.552.552 0 0 1-1.1 0L7.1 5.995A.905.905 0 0 1 8 5zm.002 6a1 1 0 1 1 0 2 1 1 0 0 1 0-2z\" />\n                    </svg>\n                    <div>\n                        {error.message}\n                    </div>\n                </div>\n            </div>\n        );\n    }\n    return (<></>);\n};","// https://tobiasahlin.com/spinkit/\nimport './LoadingIndicator.css';\n\ninterface LoadingIndicatorProps {\n  small?: boolean\n}\nexport const LoadingIndicator: React.FC<LoadingIndicatorProps> = ({small = false}) => {\n    return (\n<div className=\"sk-cube-grid\" style={\n  small ? {width:'38px', height:'38px'}:{}\n}>\n  <div className=\"sk-cube sk-cube1\"></div>\n  <div className=\"sk-cube sk-cube2\"></div>\n  <div className=\"sk-cube sk-cube3\"></div>\n  <div className=\"sk-cube sk-cube4\"></div>\n  <div className=\"sk-cube sk-cube5\"></div>\n  <div className=\"sk-cube sk-cube6\"></div>\n  <div className=\"sk-cube sk-cube7\"></div>\n  <div className=\"sk-cube sk-cube8\"></div>\n  <div className=\"sk-cube sk-cube9\"></div>\n</div>\n    );\n}","import eventBus from \"../eventBus\";\nimport { ErrorLine } from \"../types\";\nimport { LoadingIndicator } from \"./LoadingIndicator\";\n\ninterface ErrorLogProps {\n    stderr: ErrorLine[],\n    isCompiling: boolean\n};\nexport const ErrorLog: React.FC<ErrorLogProps> = ({stderr, isCompiling}) => {\n\n    const getLineClass = (line:ErrorLine) => {\n        let className = ''\n        if (line.text.match(/warning/i)) {\n            className += 'text-warning';\n        } else if (line.text.match(/note/i)){\n        } else {\n            className += 'text-danger';\n        }\n        if (line.tag) {\n            className +=' error-line';\n        }\n        return className;\n    };\n    \n\n    return (\n        <div style={{\n            fontFamily:\"monospace\",\n            fontSize:\"14px\",\n            padding:\"8px\",\n            flex:1,\n            display:\"flex\",\n            flexDirection:\"column\"\n        }}>\n            {\n                isCompiling ?\n                <div style={{flex:1, display:\"flex\", flexDirection:\"column\", alignItems:\"center\", justifyContent:\"center\"}}>Compiling... <LoadingIndicator/></div>\n                :(\n                stderr.length === 0 ? \n                <div className=\"text-success\">Compiled successfully</div>\n                :\n                stderr.map((line, index) => {\n                    return line.tag ?                     <div key={index} className={getLineClass(line)}\n                    onMouseEnter={() => {\n                        eventBus.dispatch('lineLink', {\n                            line: line.tag?.line,\n                            column:line.tag?.column,\n                            reveal: false\n                        });\n                    }}\n                    onClick={() => {\n                        eventBus.dispatch('lineLink', {\n                            line: line.tag?.line,\n                            column:line.tag?.column,\n                            reveal: true\n                        });\n                    }}>\n                        {line.text}\n                    </div>\n                    :<div key={index} className={getLineClass(line)}>{line.text}\n                    </div>\n}))\n            }\n        </div>\n    );\n}","import { Link } from \"react-router-dom\";\n\ninterface SubmitDialogProps {\n    score: number,\n    isEquivalent: boolean,\n    setIsEquivalent: (isEquivalent: boolean) => void,\n    submit: () => void,\n    isLoggedIn: boolean,\n    username: string,\n    setUsername: (value: string) => void,\n    email: string,\n    setEmail: (value: string) => void\n}\nexport const SubmitDialog: React.FC<SubmitDialogProps> = ({ score, isEquivalent, setIsEquivalent, submit, isLoggedIn, username, setUsername, email, setEmail }) => {\n    return (\n        <div className=\"modal fade\" id=\"submitDialog\" tabIndex={-1} role=\"dialog\">\n            <div className=\"modal-dialog modal-dialog-centered\" role=\"document\">\n                <div className=\"modal-content\">\n                    <div className=\"modal-header\">\n                        <h5 className=\"modal-title\">Do you want to submit?</h5>\n                        <button type=\"button\" className=\"btn-close\" data-bs-dismiss=\"modal\" aria-label=\"Close\">\n                            <span aria-hidden=\"true\"></span>\n                        </button>\n                    </div>\n                    <div className=\"modal-body\">\n                        {\n                            score === 0\n                                ? <div>\n                                    {\n                                        (!isLoggedIn) && <div>\n                                            <div>Login to claim or add yourself as the author of this commit?<br /><small>(Make sure to copy your code as you will be redirected and the code will not be saved)</small></div>\n                                            <Link className=\"btn btn-secondary btn-sm mb-4 mt-2\" to=\"/login\" onClick={() => {window.location.href=\"/login\"}} data-bs-dismiss=\"modal\">\n                                                <i className=\"fa fa-github fa-fw\"></i>\n                                                <span>Login with GitHub</span>\n                                            </Link>\n                                        </div>\n                                    }\n                                    <label className=\"mb-2\">Username and E-Mail for the git commit:</label>\n                                    <input type=\"text\" className=\"form-control\" placeholder=\"Username\"\n                                        value={username}\n                                        onChange={(e) => { setUsername(e.target.value) }}\n                                    />\n                                    <input type=\"text\" className=\"form-control mt-2\" placeholder=\"E-Mail\"\n                                        value={email}\n                                        onChange={(e) => { setEmail(e.target.value) }}\n                                    />\n                                </div>\n                                : <div>\n                                    <p>While this code is not yet matching, is it at least functionally equivalent?</p>\n                                    <input type=\"checkbox\" checked={isEquivalent} onChange={(event) => { setIsEquivalent(event.target.checked) }} /> Is functionally equivalent\n                                </div>\n                        }\n                    </div>\n                    <div className=\"modal-footer\">\n                        <button type=\"button\" className=\"btn btn-secondary\" data-bs-dismiss=\"modal\">Close</button>\n                        <button type=\"button\" className=\"btn btn-primary\" data-bs-dismiss=\"modal\" onClick={submit}>Submit</button>\n                    </div>\n                </div>\n            </div>\n        </div>\n    );\n}","import { Link } from \"react-router-dom\";\n\ninterface SuccessToastProps {\n    score: number;\n    isLoggedIn: boolean\n}\n\nexport const SuccessToast: React.FC<SuccessToastProps> = ({ score, isLoggedIn }) => {\n\n    const copyLink = () => {\n        navigator.clipboard.writeText(window.location.href);\n    };\n\n    return (\n        <div className=\"toast-container position-absolute p-3 bottom-0 end-0\" id=\"toastPlacement\" style={{ zIndex: 1000 }}>\n            <div className=\"toast bg-success text-white\" id=\"successToast\">\n                <div className=\"d-flex align-items-center\">\n                    <div className=\"toast-body\">Successfully submitted code\n                    </div>\n                    <button className=\"btn btn-outline-light btn-sm me-2 m-auto\" onClick={copyLink}>Copy Link</button>\n                    {score === 0 && isLoggedIn && <Link className=\"btn btn-outline-light btn-sm me-2 m-auto\" to=\"/pr\">Create PR</Link>}\n                    <button type=\"button\" className=\"btn-close btn-close-white me-2\" data-bs-dismiss=\"toast\" aria-label=\"Close\"></button>\n                </div>\n            </div>\n        </div>\n\n    )\n};","//export const API_URL = \"http://127.0.0.1:5000/\"\r\nexport const API_URL = \"https://1ea8-2a02-8070-1c4-e320-00-14ac.eu.ngrok.io/\"\r\n\r\nexport const CEXPLORE_URL = \"https://cexplore.henny022.eu.ngrok.io/api/compiler/tmc_agbcc/compile\"\r\nexport const COMPILE_DEBOUNCE_TIME = 500;","import { get } from \"../api\";\nimport { API_URL } from \"../constants\";\nimport { User } from \"../types\";\n\nlet functions:{[id:string]:User} = {};\n\nconst getFunction = async (id: number) => {\n    if (functions[id] !== undefined) {\n        return functions[id];\n    }\n    const data = await get(API_URL+'functions/'+id);\n    // TODO error handling\n    functions[id] = data;\n    return data;\n};\n\n\nexport {getFunction};","import { get, put } from \"../api\";\nimport { API_URL } from \"../constants\";\nimport { User } from \"../types\";\n\nlet users:{[id:string]:User} = {};\nlet currentUser: User | null | undefined = undefined;\n\nconst getUser = async (id: number) => {\n    if (users[id] !== undefined) {\n        return users[id];\n    }\n    const data = await get(API_URL+'users/'+id);\n    // TODO error handling\n    users[id] = data;\n    return data;\n};\n\n\nconst getCurrentUser = async() => {\n    if (currentUser !== undefined) {\n        return currentUser;\n    }\n    const data = await get(API_URL + 'user');\n    if (data['error'] !== undefined) {\n      currentUser = null;\n    }else {\n      currentUser = data;\n    }\n    if (currentUser === undefined) return null; // TODO remove\n    return currentUser;\n};\n\nconst saveCurrentUser = async(user: User) => {\n    await put(API_URL + 'users/'+user.id, user);\n    currentUser = user;\n    // TODO error check\n}\n\nconst resetCurrentUser = () => {\n    currentUser = null;\n};\nexport {getUser, getCurrentUser, saveCurrentUser, resetCurrentUser};","import debounce from \"lodash.debounce\";\r\nimport { useCallback, useEffect, useState } from \"react\";\r\nimport { Prompt, RouteComponentProps, useHistory } from \"react-router\";\r\nimport { Bar, Container, Section } from \"react-simple-resizer\";\r\nimport { get, post } from \"../api\";\r\nimport { CodeEditor } from \"../components/CodeEditor\"\r\nimport { DiffEditor } from \"../components/DiffEditor\";\r\nimport { ErrorAlert } from \"../components/ErrorAlert\";\r\nimport { ErrorLog } from \"../components/ErrorLog\";\r\nimport { LoadingIndicator } from \"../components/LoadingIndicator\";\r\nimport { SubmitDialog } from \"../components/SubmitDialog\";\r\nimport { SuccessToast } from \"../components/SuccessToast\";\r\nimport { API_URL, CEXPLORE_URL, COMPILE_DEBOUNCE_TIME } from \"../constants\";\r\nimport { getFunction } from \"../repositories/function\";\r\nimport { getCurrentUser } from \"../repositories/user\";\r\nimport { AsmLine, ErrorLine, Func } from \"../types\";\r\n\r\nimport './EditorPage.css'\r\n\r\ninterface Params {\r\n    function: string,\r\n    submission: string,\r\n}\r\n\r\n// Store the id of the submission we just created to display the submission toast.\r\nlet justSubmitted = -1;\r\n\r\nconst EditorPage: React.FC<RouteComponentProps<Params>> = ({ match }) => {\r\n\r\n    // State\r\n    const [cCode, setCCode] = useState(\r\n        '// Type your c code here...'\r\n    )\r\n\r\n    const [isCompiling, setIsCompiling] = useState(true);\r\n    const [compiled, setCompiled] = useState<{\r\n        asm: string,\r\n        lines: AsmLine[],\r\n        stderr: ErrorLine[],\r\n        data: any // raw compile response, so we can pass it on when submitting\r\n    }>(\r\n        {\r\n            asm: 'The compiled asm of your code will appear here...',\r\n            lines: [],\r\n            stderr: [],\r\n            data: {}\r\n        }\r\n\r\n    )\r\n    const [originalAsm, setOriginalAsm] = useState(\r\n        'original asm'\r\n    )\r\n\r\n    const [func, setFunc] = useState<Func | null>(null)\r\n\r\n    const [score, setScore] = useState(-1);\r\n\r\n    const [error, setError] = useState<Error | null>(null);\r\n    const [isSubmitting, setIsSubmitting] = useState(false);\r\n    const [isEquivalent, setIsEquivalent] = useState(false);\r\n    const [isLoggedIn, setIsLoggedIn] = useState(false);\r\n    const [username, setUsername] = useState('');\r\n    const [email, setEmail] = useState('');\r\n    const [hasUnsubmittedChanges, setHasUnsubmittedChanges] = useState(false);\r\n\r\n    const debouncedCompile =\r\n    // eslint-disable-next-line\r\n        useCallback(\r\n            debounce(nextValue => compile(nextValue), COMPILE_DEBOUNCE_TIME), []);\r\n\r\n    const onCodeChange = (newValue: any) => {\r\n        setHasUnsubmittedChanges(true);\r\n        setCCode(newValue)\r\n        debouncedCompile(newValue);\r\n    }\r\n\r\n    const onScoreChange = (score: number) => {\r\n        setScore(score);\r\n    };\r\n\r\n    const parseCompileData = (data: any) => {\r\n        const code = data.asm.map((line: any) => line.text).join('\\n')\r\n        setIsCompiling(false);\r\n        setCompiled({\r\n            asm: code,\r\n            lines: data.asm,\r\n            stderr: data.stderr,//data.stderr.map((line: any) => line.text).join('\\n')\r\n            data: data\r\n        })\r\n    }\r\n    const compile = async (nextValue: any) => {\r\n        setIsCompiling(true);\r\n        //        console.log('compiling', nextValue);\r\n        try {\r\n            const res = await fetch(CEXPLORE_URL, {\r\n                \"headers\": {\r\n                    \"accept\": \"application/json, text/javascript, */*; q=0.01\",\r\n                    //\"accept-language\": \"en-US,en;q=0.9\",\r\n                    \"content-type\": \"application/json\",\r\n                    //\"x-requested-with\": \"XMLHttpRequest\"\r\n                },\r\n                //      \"referrer\": \"http://cexplore.henny022.de/\",\r\n                //\"referrerPolicy\": \"strict-origin-when-cross-origin\",\r\n                \"body\":\r\n                    JSON.stringify({\r\n                        source: nextValue,\r\n                        compiler: \"tmc_agbcc\",\r\n                        options: {\r\n                            userArguments: '-O2', // TODO allow the user to specify this?\r\n                            compilerOptions: {\r\n                                produceGccDump: {},\r\n                                produceCfg: false\r\n                            },\r\n                            filters: {\r\n                                labels: true,\r\n                                binary: false,\r\n                                commentOnly: true,\r\n                                demangle: true,\r\n                                directives: true,\r\n                                execute: false,\r\n                                intel: true,\r\n                                libraryCode: false,\r\n                                trim: false\r\n                            },\r\n                            tools: [],\r\n                            libraries: []\r\n                        },\r\n                        lang: \"c\",\r\n                        allowStoreCodeDebug: true\r\n                    }),\r\n\r\n                \"method\": \"POST\",\r\n                //\"mode\": \"cors\",\r\n                //\"credentials\": \"omit\"\r\n            });\r\n\r\n            const data = await res.json();\r\n            //        console.log(data);\r\n\r\n            parseCompileData(data);\r\n\r\n        } catch (e: any) {\r\n            setIsCompiling(false);\r\n            setCompiled({\r\n                asm: '',\r\n                lines: [],\r\n                stderr: [{ text: 'ERROR: ' + e.message }],\r\n                data: {}\r\n            })\r\n        }\r\n    }\r\n\r\n    useEffect(() => {\r\n        getCurrentUser().then((user) => {\r\n            setIsLoggedIn(true);\r\n            setUsername(user?.username ?? '');\r\n            setEmail(user?.email ?? '');\r\n        });\r\n        const loadFunction = async (func: string, submission: string) => {\r\n            // Fetch asm code from function\r\n            getFunction(parseInt(func)).then((data) => {\r\n                setFunc(data)\r\n                if (data.asm !== undefined) {\r\n                    setOriginalAsm(data.asm)\r\n                }\r\n\r\n                if (parseInt(submission) === 0) {\r\n                    setIsEquivalent(false);\r\n                    setIsCompiling(false);\r\n                } else {\r\n                    get(API_URL + 'submissions/' + submission).then((data) => {\r\n                        // Fetch c code from submission\r\n                        if (data.code !== undefined) {\r\n                            setCCode(data.code)\r\n                            // use the precompiled compile data\r\n                            if (data.compiled) {\r\n                                parseCompileData(JSON.parse(data.compiled))\r\n                            } // TODO else debouncecompile?\r\n                        }\r\n                        setIsEquivalent(data.is_equivalent);\r\n\r\n                        // If this was just submitted, show the success toast\r\n                        if (justSubmitted === parseInt(submission)) {\r\n                            justSubmitted = -1;\r\n                            new (window as any).bootstrap.Toast(document.getElementById('successToast')).show();\r\n\r\n                        }\r\n                    }, setError);\r\n                }\r\n            }, setError);\r\n\r\n        }\r\n        loadFunction(match.params.function, match.params.submission)\r\n    }, [match.params.function, match.params.submission]) // TODO why does it want me to add loadFunction as a dependency here?\r\n\r\n    const history = useHistory();\r\n\r\n    const showSubmitDialog = () => {\r\n        let modal = new (window as any).bootstrap.Modal(document.getElementById('submitDialog'));\r\n        modal.show();\r\n    };\r\n\r\n    const submit = async () => {\r\n        setIsSubmitting(true);\r\n        post(API_URL + 'functions/' + match.params.function + '/submissions', {\r\n            code: cCode,\r\n            score: score,\r\n            is_equivalent: isEquivalent,\r\n            parent: match.params.submission,\r\n            compiled: JSON.stringify(compiled.data),\r\n            username: username,\r\n            email: email\r\n        }).then(\r\n            (data) => {\r\n                setIsSubmitting(false);\r\n                setHasUnsubmittedChanges(false);\r\n                justSubmitted = data.id; // Show the toast on page reload\r\n                history.replace('/functions/' + match.params.function + '/submissions/' + data.id);\r\n            },\r\n            (error) => {\r\n                setIsSubmitting(false);\r\n                setError(error);\r\n                console.error('Submission failed', error)\r\n            }\r\n        )\r\n    };\r\n\r\n    const showOneColumn = () => {\r\n        return window.innerWidth < 800;\r\n    };\r\n\r\n    const common = (\r\n        <>\r\n            <ErrorAlert error={error}></ErrorAlert>\r\n            <SubmitDialog\r\n                score={score}\r\n                setIsEquivalent={setIsEquivalent}\r\n                isEquivalent={isEquivalent}\r\n                submit={submit}\r\n                isLoggedIn={isLoggedIn}\r\n                username={username}\r\n                setUsername={setUsername}\r\n                email={email}\r\n                setEmail={setEmail}\r\n            ></SubmitDialog>\r\n            <SuccessToast score={score} isLoggedIn={isLoggedIn}></SuccessToast>\r\n            <Prompt when={hasUnsubmittedChanges} message=\"You have unsubmitted changes, are you sure you want to leave?\"></Prompt>\r\n        </>\r\n    );\r\n\r\n    if (showOneColumn()) {\r\n        // One column with tabs\r\n        // TODO also add a textarea version of the editor to be able to copy and paste code?\r\n        return (\r\n            <>\r\n                {common}\r\n                <div className=\"tab-content\" id=\"myTabContent\" style={{ flex: 1, display: \"flex\" }}>\r\n                    <div className=\"tab-pane fade show active\" id=\"code\" role=\"tabpanel\" aria-labelledby=\"code-tab\" style={{ flex: 1, overflow: \"hidden\" }}>\r\n                        <CodeEditor\r\n                            code={cCode}\r\n                            stderr={compiled.stderr}\r\n                            onCodeChange={onCodeChange}\r\n\r\n                        />\r\n                    </div>\r\n                    <div className=\"tab-pane fade\" id=\"stderr\" role=\"tabpanel\" aria-labelledby=\"stderr-tab\" style={{ flex: 1, overflow: \"hidden\" }}>\r\n                        <ErrorLog stderr={compiled.stderr} isCompiling={isCompiling}></ErrorLog> </div>\r\n                    <div className=\"tab-pane fade\" id=\"diff\" role=\"tabpanel\" aria-labelledby=\"diff-tab\" style={{ flex: 1, overflow: \"hidden\" }}>\r\n                        <DiffEditor\r\n                            compiledAsm={compiled.asm}\r\n                            originalAsm={originalAsm}\r\n                            lines={compiled.lines}\r\n                            onScoreChange={onScoreChange}\r\n                        /></div>\r\n                </div>\r\n                <div style={{ borderTop: \"1px solid #eee\", backgroundColor: \"#f8f9fa\", fontSize: \"14px\" }}>\r\n                    <div className=\"container\" style={{ display: \"flex\", alignItems: \"center\" }}>\r\n                        <ul className=\"nav nav-pills\" id=\"myTab\" role=\"tablist\">\r\n                            <li className=\"nav-item\" role=\"presentation\">\r\n                                <button className=\"nav-link active\" id=\"code-tab\" data-bs-toggle=\"tab\" data-bs-target=\"#code\" type=\"button\" role=\"tab\" aria-controls=\"code\" aria-selected=\"true\">Code</button>\r\n                            </li>\r\n                            <li className=\"nav-item\" role=\"presentation\">\r\n                                <button className={\"nav-link\" + (compiled.stderr.length > 0 ? \" tab-error\" : \"\")} id=\"stderr-tab\" data-bs-toggle=\"tab\" data-bs-target=\"#stderr\" type=\"button\" role=\"tab\" aria-controls=\"stderr\" aria-selected=\"false\">Stderr</button>\r\n                            </li>\r\n                            <li className=\"nav-item\" role=\"presentation\">\r\n                                <button className=\"nav-link\" id=\"diff-tab\" data-bs-toggle=\"tab\" data-bs-target=\"#diff\" type=\"button\" role=\"tab\" aria-controls=\"diff\" aria-selected=\"false\">Diff</button>\r\n                            </li>\r\n                        </ul>\r\n                        <span style={{ flex: 1, overflowX: \"auto\", paddingLeft: \"8px\" }}>{func?.name}</span>\r\n                        <span style={{ padding: \"0 8px\" }}>\r\n                            Diff Score: {score}\r\n                        </span>\r\n                        {\r\n                            isCompiling || isSubmitting\r\n                                ? <LoadingIndicator small />\r\n                                : <button className={\r\n                                    \"btn btn-sm\" + (score === 0\r\n                                        ? \" btn-success\"\r\n                                        : \" btn-outline-success\")\r\n                                } onClick={showSubmitDialog}>Submit</button>\r\n                        }\r\n                    </div>\r\n                </div>\r\n            </>\r\n        );\r\n\r\n    } else {\r\n        // Two columns\r\n        return (\r\n            <>\r\n                {common}\r\n                <Container style={{ overflow: \"hidden\", flex: 1 }}>\r\n                    <Section minSize={100}>\r\n                        <CodeEditor\r\n                            code={cCode}\r\n                            stderr={compiled.stderr}\r\n                            onCodeChange={onCodeChange}\r\n                        />\r\n                    </Section>\r\n                    <Bar size={1} style={{ background: '#eee', cursor: 'col-resize' }}\r\n                        expandInteractiveArea={{ left: 2, right: 2 }} />\r\n                    <Section minSize={100} style={{ display: \"flex\" }}>\r\n                        <Container vertical style={{ overflow: \"hidden\", flex: 1, display: \"flex\" }}>\r\n                            <Section minSize={100}>\r\n                                <DiffEditor\r\n                                    compiledAsm={compiled.asm}\r\n                                    originalAsm={originalAsm}\r\n                                    lines={compiled.lines}\r\n                                    onScoreChange={onScoreChange}\r\n                                />\r\n                            </Section>\r\n                            <Bar size={1} style={{ background: '#eee', cursor: 'col-resize' }}\r\n                                expandInteractiveArea={{ top: 2, bottom: 2 }} />\r\n                            <Section minSize={100} defaultSize={200} style={{ display: \"flex\" }}>\r\n                                <ErrorLog stderr={compiled.stderr} isCompiling={isCompiling}></ErrorLog>\r\n                            </Section>\r\n                        </Container>\r\n                    </Section>\r\n                </Container>\r\n                <div style={{ borderTop: \"1px solid #eee\", backgroundColor: \"#f8f9fa\", fontSize: \"14px\" }}>\r\n                    <div className=\"container\" style={{ display: \"flex\", padding: \"4px\", alignItems: \"center\" }}>\r\n                        <span>{func?.name}</span>\r\n                        <span style={{ flex: 1 }}></span>\r\n                        <span style={{ padding: \"0 8px\" }}>\r\n                            Diff Score: {score}\r\n                        </span>\r\n                        {\r\n                            isCompiling || isSubmitting\r\n                                ? <button className=\"btn btn-secondary btn-sm\" disabled>Submit</button>\r\n                                : <button className={\r\n                                    \"btn btn-sm\" + (score === 0\r\n                                        ? \" btn-success\"\r\n                                        : \" btn-outline-success\")}\r\n                                    onClick={showSubmitDialog}>Submit</button>\r\n                        }\r\n                    </div>\r\n                </div>\r\n            </>\r\n        )\r\n    }\r\n\r\n}\r\n\r\nexport default EditorPage;","import React, {  } from \"react\";\r\n\r\nexport const DashboardPage: React.FC = () => {\r\n    return (<></>);\r\n/*\r\n    const [projects, setProjects] = useState<Project[]>([])\r\n\r\n    const fetchProjects = async () => {\r\n        const res = await fetch(API_URL + 'projects')\r\n        const data = await res.json()\r\n\r\n        setProjects(data)\r\n    }\r\n\r\n    useEffect(() => {\r\n        fetchProjects()\r\n    }, [])\r\n\r\n\r\n    return (<Container>\r\n        <h1>Dashboard</h1>\r\n        <div className=\"columns\">\r\n            <div className=\"column\">\r\n                <h2>Projects</h2>\r\n                {\r\n                    projects.map((project) => (\r\n                        <Link key={project.id} to={\"/projects/\"+project.id}>\r\n                        <Card>\r\n                            {project.name}\r\n                        </Card>\r\n                    </Link>\r\n                    ))\r\n                }\r\n            </div>\r\n            <div className=\"column rightmost\">\r\n                <h2>Bookmarked Functions</h2>\r\n            </div>\r\n\r\n        </div>\r\n\r\n\r\n    </Container>);\r\n    */\r\n}","import './Container.css'\r\n\r\ninterface ContainerProps {\r\n    small?: boolean\r\n    centered?: boolean\r\n}\r\n\r\nexport const Container: React.FC<ContainerProps> = ({small = false, centered=false, children}) => {\r\n        return (\r\n            <div className=\"container custom-container\" style={{\r\n                display: centered? \"flex\": \"block\"\r\n            }}>\r\n                {children}\r\n            </div>\r\n        );\r\n}","import { Container } from \"../components/Container\";\r\nimport { API_URL } from \"../constants\";\r\n\r\nexport const LoginPage: React.FC = () => {\r\n    const loginWithGitHub = async () => {\r\n        const res = await fetch(API_URL + 'oauth/login');\r\n        const data = await res.json()\r\n        window.location.href = data['redirect'];\r\n    };\r\n\r\n    return (<Container small>\r\n        <h1 className=\"mt-4\">Login</h1>\r\n        <p>To be able to submit Pull Requests using your GitHub account, you need to sign in using that account.<br />It is not possible to request permissions for one repository only, so it will request permissions for all public repositories.<br />\r\n            Even if you do not log in, you can still add your username and email for the git commit when submitting a matching function.\r\n        </p>\r\n        <button className=\"btn btn-secondary\" onClick={loginWithGitHub}>\r\n            <i className=\"fa fa-github fa-fw\"></i>\r\n            <span>Login with GitHub</span>\r\n        </button>\r\n    </Container>);\r\n}\r\n","import { Container } from \"../components/Container\"\r\n\r\nexport const NotFoundPage: React.FC = () => {\r\n    return (<Container><h1 className=\"mt-4\">Not Found</h1></Container>);\r\n}","import { Link } from \"react-router-dom\";\r\nimport { User } from \"../types\";\r\n\r\ninterface NavbarProps {\r\n  currentUser: User | null;\r\n}\r\n\r\nexport const Navbar: React.FC<NavbarProps> = ({ currentUser }) => {\r\n  return (\r\n    <nav className=\"navbar navbar-expand-md navbar-light bg-light\">\r\n      <div className=\"container\">\r\n        <Link className=\"navbar-brand\" to=\"/\">NONMATCH</Link>\r\n        <button className=\"navbar-toggler\" type=\"button\" data-bs-toggle=\"collapse\" data-bs-target=\"#navbarSupportedContent\" aria-controls=\"navbarSupportedContent\" aria-expanded=\"false\" aria-label=\"Toggle navigation\">\r\n          <span className=\"navbar-toggler-icon\"></span>\r\n        </button>\r\n        <div className=\"collapse navbar-collapse\" id=\"navbarSupportedContent\">\r\n          <ul className=\"navbar-nav me-auto mb-2 mb-md-0\">\r\n            {/*currentUser != null && <li className=\"nav-item\"><Link to=\"/dashboard\" className=\"nav-link\" >Dashboard</Link></li>*/}\r\n            <li className=\"nav-item\"><Link to=\"/\" className=\"nav-link\">Functions</Link></li>\r\n          </ul>\r\n\r\n          <ul className=\"navbar-nav ms-auto\">\r\n            {(currentUser == null)\r\n              ? <li className=\"nav-item\"><Link to=\"/login\" className=\"nav-link\">Login</Link></li>\r\n              : <li className=\"nav-item dropdown\">\r\n                <a className=\"nav-link dropdown-toggle\" id=\"navbarDropdown\" href=\"/\" role=\"button\" data-bs-toggle=\"dropdown\" aria-expanded=\"false\">\r\n                  {currentUser.username}\r\n                </a>\r\n                <ul className=\"dropdown-menu dropdown-menu-end\" aria-labelledby=\"navbarDropdown\">\r\n                  <li><Link className=\"dropdown-item\" to=\"/settings\">Settings</Link></li>\r\n                  <li><hr className=\"dropdown-divider\" /></li>\r\n                  <li><Link className=\"dropdown-item\" to=\"/logout\">Logout</Link></li>\r\n                </ul>\r\n              </li>\r\n            }\r\n          </ul>\r\n        </div>\r\n      </div>\r\n    </nav>\r\n  );\r\n}","import { useEffect, useState } from \"react\"\nimport { Link } from \"react-router-dom\";\nimport { get } from \"../api\";\nimport { Container } from \"../components/Container\"\nimport { LoadingIndicator } from \"../components/LoadingIndicator\";\nimport { API_URL } from \"../constants\";\nimport { Func } from \"../types\"\n\nexport const FunctionsPage: React.FC = () => {\n    const [isLoading, setIsLoading] = useState(false);\n    const [functions, setFunctions] = useState<Func[]>([]);\n\n    const fetchFunctions = async () => {\n        setIsLoading(true);\n        get(API_URL + 'functions').then(\n            async (data) => {\n                setIsLoading(false);\n                setFunctions(data);\n                // Make table sortable\n                (window as any).Sortable.init();\n            },\n            (error) => {\n                setIsLoading(false);\n                console.error(error)\n            }\n        )\n    }\n\n    useEffect(() => {\n        fetchFunctions()\n    }, []);\n    return (<Container centered>\n        <h1 className=\"mt-4 mb-2\">NONMATCH Functions</h1>\n        <table className=\"sortable-theme-slick\" data-sortable>\n            <thead>\n                <tr><th>File</th><th>Function</th><th>Size</th><th>Best Score</th><th data-sortable=\"false\"></th></tr>\n            </thead>\n            <tbody>\n                {isLoading\n                    ? <tr><td colSpan={5}><LoadingIndicator /></td></tr>\n                    : functions.map((func) => (\n                        <tr key={func.id}>\n                            <td>{func.file}</td>\n                            <td>{func.name}</td>\n                            <td>{func.size}</td>\n                            <td>{func.best_score}</td>\n                            <td>\n                                <Link className=\"btn btn-outline-primary btn-sm\" to={\"/functions/\" + func.id}>\n                                    Edit\n                                </Link>\n                            </td>\n                        </tr>\n                    ))\n                }\n            </tbody>\n        </table>\n    </Container>)\n}","import { DateTime } from \"luxon\";\nimport { useEffect, useState } from \"react\"\nimport { Link, RouteComponentProps } from \"react-router-dom\";\nimport { get } from \"../api\";\nimport { Container } from \"../components/Container\"\nimport { LoadingIndicator } from \"../components/LoadingIndicator\";\nimport { API_URL } from \"../constants\";\nimport { getFunction } from \"../repositories/function\";\nimport { getUser } from \"../repositories/user\";\nimport { Func, Submission } from \"../types\"\ninterface Params {\n    function: string\n}\n\n// TODO order submissions by score ascending\n\nexport const SubmissionsPage: React.FC<RouteComponentProps<Params>> = ({ match }) => {\n    const [isLoading, setIsLoading] = useState(false);\n    const [submissions, setSubmissions] = useState<Submission[]>([]);\n    const [func, setFunc] = useState<Func | null>(null)\n\n    useEffect(() => {\n        const fetchSubmissions = async () => {\n            setIsLoading(true);\n            getFunction(parseInt(match.params.function)).then(\n                (func) => {\n                    setFunc(func)\n                },\n                (error) => {\n                    setIsLoading(false);\n                    console.error(error)\n                }\n            )\n\n            get(API_URL + 'functions/' + match.params.function + '/submissions').then(\n                async (data) => {\n                    // Load all owners\n                    for (let i = 0; i < data.length; i++) {\n                        if (data[i].owner === null || data[i].owner === 0) {\n                            data[i].ownerName = 'anonymous';\n                        } else {\n                            console.log(data[i].owner);\n                            let user = await getUser(data[i].owner);\n                            data[i].ownerName = user.username;\n                        }\n                        data[i].time_created = DateTime.fromISO(data[i].time_created).toLocaleString({\n                            year: 'numeric',\n                            month: '2-digit',\n                            day: '2-digit',\n                            hour: 'numeric',\n                            minute: '2-digit',\n                            timeZoneName: 'short'\n                        });\n                    }\n                    // TODO only one submission? -> redirect\n                    setIsLoading(false);\n                    setSubmissions(data);\n                    // Make table sortable\n                    (window as any).Sortable.init();\n                },\n                (error) => {\n                    setIsLoading(false);\n                    console.error(error)\n                }\n            )\n        }\n        fetchSubmissions()\n    }, [match.params.function]);\n    return (<Container centered>\n        <h1 className=\"mt-4 mb-2\">Select Submission{\n            func ? ' for Function ' + func.name\n                : ''\n        } </h1>\n        <table className=\"sortable-theme-slick\" data-sortable>\n            <thead>\n                <tr><th>Owner</th><th>Score</th><th>Created</th><th data-sortable=\"false\"></th></tr>\n            </thead>\n            <tbody>\n                {\n                    isLoading\n                        ? <tr><td colSpan={4}><LoadingIndicator /></td></tr>\n                        :\n                        submissions.map((submission) => (\n                            <tr key={submission.id}>\n                                <td>{submission.ownerName}</td>\n                                <td>{submission.score}</td>\n                                <td>{submission.time_created}</td>{/*Format to users timezone*/}\n                                <td>\n                                    <Link className=\"btn btn-outline-primary btn-sm\" to={\"/functions/\" + submission.function + \"/submissions/\" + submission.id}>\n                                        Edit\n                                    </Link>\n                                </td>\n                            </tr>\n                        ))\n                }\n            </tbody>\n        </table>\n        <Link to={\"/functions/\" + match.params.function + \"/submissions/0\"} className=\"btn btn-outline-primary\" style={{ marginTop: \"20px\" }}>Start with blank slate</Link>\n    </Container>)\n}","import { useEffect, useState } from \"react\";\nimport { Container } from \"../components/Container\";\nimport eventBus from \"../eventBus\";\nimport { getCurrentUser, saveCurrentUser } from \"../repositories/user\";\nimport { User } from \"../types\";\n\nexport const SettingsPage: React.FC = () => {\n\n  const [currentUser, setCurrentUser] = useState<User | null>(null);\n\n  const [username, setUsername] = useState('');\n  const [email, setEmail] = useState('');\n\n  const loadCurrentUser = async () => {\n    getCurrentUser().then((user) => {\n      setCurrentUser(user);\n      if (user) {\n        setUsername(user.username);\n        setEmail(user.email);\n      }\n    }, (error) => {\n      console.error(error)\n    });\n  };\n\n  useEffect(() => {\n    loadCurrentUser()\n  }, []);\n\n  const save = async () => {\n    const user = currentUser;\n    if (!user) {\n      return;\n    }\n    user.username = username;\n    user.email = email;\n    //    setCurrentUser(user);\n    await saveCurrentUser(user);\n    // TODO somehow trigger the redraw of the App component?\n    // maybe pass the component down here through the route?\n    eventBus.dispatch('user-changed', user);\n    console.log('DISPATCH');\n    // TODO show toast that we saved successfully\n  };\n\n\n\n  // TODO maybe allow to refetch the avatar from GitHub?\n  return (<Container>\n    <h1 className=\"mt-4\">Settings</h1>\n    This username and email are used in the git commit if you submit a matching function.\n    <div className=\"mb-3 mt-3\">\n      <label htmlFor=\"username\">Username</label>\n      <input type=\"username\" className=\"form-control\" id=\"username\" placeholder=\"Enter username\"\n        value={username}\n        onChange={(e) => { setUsername(e.target.value) }}\n      />\n    </div>\n    <div className=\"mb-3\">\n      <label htmlFor=\"email\">Email address</label>\n      <input type=\"email\" className=\"form-control\" id=\"email\" placeholder=\"Enter email\"\n        value={email}\n        onChange={(e) => { setEmail(e.target.value) }} />\n    </div>\n    <button type=\"submit\" className=\"btn btn-primary\" onClick={save}>Save</button>\n  </Container>);\n}","import { useState } from \"react\";\nimport { post, resetToken } from \"../api\";\nimport { Container } from \"../components/Container\";\nimport { API_URL } from \"../constants\";\nimport eventBus from \"../eventBus\";\nimport { resetCurrentUser } from \"../repositories/user\";\n\nexport const LogoutPage: React.FC = () => {\n    const [loggedOut, setLoggedOut] = useState(false);\n\n    const logout = () => {\n        setLoggedOut(true);\n        post(API_URL + 'oauth/logout', {});\n        resetToken();\n        resetCurrentUser();\n        eventBus.dispatch('user-changed', null);\n    };\n\n    return (\n        <Container>\n            <h1 className=\"mt-4\">Logout</h1>\n            {loggedOut\n                ? <div><p>You are now logged out</p></div>\n                : <div><p>Do you really want to log out?</p>\n                    <button className=\"btn btn-danger\" onClick={logout}>Logout</button>\n                </div>\n            }\n        </Container>\n    );\n}","import { DateTime } from \"luxon\";\nimport { useEffect, useState } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { get, post } from \"../api\";\nimport { Container } from \"../components/Container\";\nimport { ErrorAlert } from \"../components/ErrorAlert\";\nimport { LoadingIndicator } from \"../components/LoadingIndicator\";\nimport { API_URL } from \"../constants\";\nimport { getUser } from \"../repositories/user\";\n\nexport const PullRequestPage: React.FC = () => {\n\n    // TODO check that the user is logged in\n    interface Match {\n        name: string,\n        size: number,\n        owner: number,\n        ownerName: string,\n        time_created: string\n        submission: number,\n        function: number\n    }\n\n    const [isLoading, setIsLoading] = useState(false);\n    const [isSecondPage, setIsSecondPage] = useState(false);\n    const [matches, setMatches] = useState<Match[]>([]);\n    const [selected, setSelected] = useState<number[]>([]);\n    const [title, setTitle] = useState('');\n    const [text, setText] = useState('');\n    const [error, setError] = useState<Error | null>(null);\n    const [url, setUrl] = useState<string | null>(null);\n\n    useEffect(() => {\n        const fetchMatches = () => {\n            get(API_URL + 'matches').then(\n                async (data) => {\n                    // Load all owners\n                    for (let i = 0; i < data.length; i++) {\n                        if (data[i].owner === null || data[i].owner === 0) {\n                            data[i].ownerName = 'anonymous';\n                        } else {\n                            console.log(data[i].owner);\n                            let user = await getUser(data[i].owner);\n                            data[i].ownerName = user.username;\n                        }\n                        data[i].time_created = DateTime.fromISO(data[i].time_created).toLocaleString({\n                            year: 'numeric',\n                            month: '2-digit',\n                            day: '2-digit',\n                            hour: 'numeric',\n                            minute: '2-digit',\n                            timeZoneName: 'short'\n                        });\n                    }\n                    setIsLoading(false);\n                    setMatches(data);\n                    // Make table sortable\n                    (window as any).Sortable.init();\n                },\n                (error) => {\n                    setIsLoading(false);\n                    console.error(error)\n                });\n            setIsLoading(true);\n        };\n        fetchMatches();\n    }, []);\n\n    const goSecondPage = () => {\n        if (selected.length === 1) {\n            setTitle('Match ' + matches[matches.findIndex((m) => m.submission = selected[0])].name);\n            setText('');\n        } else {\n            setTitle('Match Functions');\n            let text = '';\n            for (let index = 0; index < selected.length; index++) {\n                text += (index !== 0 ? '\\n\\n' : '') + '* Match ' + matches[matches.findIndex((m) => m.submission = selected[index])].name;\n            }\n            setText(text);\n        }\n        setIsSecondPage(true);\n    };\n\n    const createPr = () => {\n        setIsLoading(true);\n        setError(null);\n\n        post(API_URL + 'pr', {\n            title: title,\n            text: text,\n            selected: selected\n        }).then(\n            (data) => {\n                setIsLoading(false);\n                console.log(data)\n                setUrl(data['url']);\n            },\n            (error) => {\n                setIsLoading(false);\n                console.error(error)\n                setError(error);\n            }\n        )\n    }\n\n    if (url != null) {\n        return (\n            <Container>\n                <h1 className=\"mt-4\">Created Pull Request</h1>\n                <a href={url} className=\"btn btn-success mt-2\">View Pull Request</a>\n            </Container>\n        )\n    }\n\n    return (\n        <Container>\n            <h1 className=\"mt-4\">Create Pull Request</h1>\n            <ErrorAlert error={error}></ErrorAlert>\n            {!isSecondPage\n                ?\n                <>\n                    <p className=\"mt-4\">Select Matching Functions for Pull Request</p>\n                    <table className=\"sortable-theme-slick\" data-sortable>\n                        <thead>\n                            <tr><th data-sortable=\"false\"></th><th>Function</th><th>Size</th><th>Owner</th><th>Created</th><th data-sortable=\"false\"></th></tr>\n                        </thead>\n                        <tbody>\n                            {\n                                isLoading\n                                    ? <tr><td colSpan={6}><LoadingIndicator /></td></tr>\n                                    : matches.length === 0\n                                        ? <tr><td colSpan={6}>No matching functions yet</td></tr>\n                                        : matches.map((match) => (\n                                            <tr key={match.submission}>\n                                                <td>\n                                                    <input type=\"checkbox\" defaultChecked={selected.includes(match.submission)}\n                                                        onChange={\n                                                            (evt) => {\n                                                                if (evt.target.checked) {\n                                                                    setSelected([...selected, match.submission]);\n                                                                } else {\n                                                                    setSelected(selected.filter((x) => x !== match.submission));\n                                                                }\n                                                            }\n                                                        }\n                                                    />\n                                                </td>\n                                                <td>\n                                                    {match.name}\n                                                </td>\n                                                <td>\n                                                    {match.size}\n                                                </td>\n                                                <td>\n                                                    {match.ownerName}\n                                                </td>\n                                                <td>\n                                                    {match.time_created}\n                                                </td>\n                                                <td>\n                                                    <Link className=\"btn btn-outline-primary btn-sm\" to={\"/functions/\" + match.function + \"/submissions/\" + match.submission}>View</Link>\n                                                </td>\n\n                                            </tr>\n                                        ))\n                            }\n                        </tbody>\n                    </table>\n                    {\n                        selected.length > 0\n                            ? <button className=\"btn btn-primary mt-3\" onClick={goSecondPage}>Create Pull Request</button>\n                            : <button className=\"btn btn-secondary mt-3\" disabled>Create Pull Request</button>\n                    }\n                </>\n                :\n                isLoading ? <LoadingIndicator></LoadingIndicator>\n                    : <>\n                        <p className=\"mt-3\">Enter Title and Text for the Pull Request</p>\n\n                        <input type=\"text\" placeholder=\"Title\" className=\"form-control mt-3\"\n                            value={title}\n                            onChange={(e) => setTitle(e.target.value)}\n                        />\n                        <textarea placeholder=\"Text\" className=\"form-control mt-2\"\n                            rows={10}\n                            value={text}\n                            onChange={(e) => setText(e.target.value)} />\n                        <button className=\"btn btn-primary mt-3\" onClick={createPr}>Create Pull Request</button>\n                    </>\n                /*\n                First select all matching or equivalent submissions that you want to add to the pr\n\n                Then generate a title and text and let the user change it before submitting\n\n                TODO username does not have to be unique as there could be different username/email combos for not-logged-in submissions\n                */\n            }\n\n\n\n\n        </Container>\n    );\n};","import React, { useEffect, useState } from 'react';\r\nimport { BrowserRouter as Router, Route, Switch } from 'react-router-dom';\r\nimport EditorPage from './pages/EditorPage';\r\nimport { DashboardPage } from './pages/DashboardPage';\r\nimport { LoginPage } from './pages/LoginPage';\r\nimport { NotFoundPage } from './pages/NotFoundPage';\r\nimport { Navbar } from './components/Navbar';\r\nimport { FunctionsPage } from './pages/FunctionsPage';\r\nimport { SubmissionsPage } from './pages/SubmissionsPage';\r\nimport { SettingsPage } from './pages/SettingsPage';\r\nimport { getCurrentUser } from './repositories/user';\r\nimport { User } from './types';\r\nimport { LogoutPage } from './pages/LogoutPage';\r\nimport eventBus from './eventBus';\r\nimport { PullRequestPage } from './pages/PullRequestPage';\r\n\r\nimport './App.css'\r\n\r\nconst App: React.FC = () => {\r\n\r\n  const [currentUser, setCurrentUser] = useState<User | null>(null);\r\n  const [error, setError] = useState<Error | null>(null);\r\n\r\n  const loadCurrentUser = async () => {\r\n    getCurrentUser().then(setCurrentUser, setError);\r\n  };\r\n\r\n  useEffect(() => {\r\n    const onUserChanged = () => {\r\n      loadCurrentUser();\r\n    };\r\n\r\n    loadCurrentUser()\r\n\r\n    // TODO fix: call current instance of onUserChanged\r\n    eventBus.on('user-changed', onUserChanged);\r\n    return () => {\r\n      eventBus.remove('user-changed', onUserChanged);\r\n    };\r\n  }, []);\r\n\r\n  if (error != null) {\r\n    return (\r\n      <div className=\"container-fluid col-5 mt-5 alert alert-danger d-flex align-items-center\" role=\"alert\">\r\n        <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" fill=\"currentColor\" className=\"bi bi-exclamation-triangle-fill flex-shrink-0 me-2\" viewBox=\"0 0 16 16\" role=\"img\" aria-label=\"Warning:\">\r\n          <path d=\"M8.982 1.566a1.13 1.13 0 0 0-1.96 0L.165 13.233c-.457.778.091 1.767.98 1.767h13.713c.889 0 1.438-.99.98-1.767L8.982 1.566zM8 5c.535 0 .954.462.9.995l-.35 3.507a.552.552 0 0 1-1.1 0L7.1 5.995A.905.905 0 0 1 8 5zm.002 6a1 1 0 1 1 0 2 1 1 0 0 1 0-2z\" />\r\n        </svg>\r\n        <div style={{ flex: 1 }}>Backend could not be reached\r\n        </div>\r\n        <a className=\"alert-link\" href=\"/\" onClick={() => { window.location.reload() }}>Retry Loading Page</a>\r\n      </div>\r\n    );\r\n  }\r\n  return (\r\n\r\n    <Router><div\r\n      className=\"App\" style={{\r\n        display: \"flex\",\r\n        flexDirection: \"column\"\r\n      }}>\r\n      <Navbar currentUser={currentUser} />\r\n\r\n      <Switch>\r\n        <Route path=\"/\" exact component={FunctionsPage} />\r\n        <Route path=\"/login\" component={LoginPage} />\r\n        <Route path=\"/dashboard\" component={DashboardPage} />\r\n        <Route path=\"/functions/:function/submissions/:submission\" component={EditorPage} />\r\n        <Route path=\"/functions/:function\" component={SubmissionsPage} />\r\n        <Route path=\"/pr\" component={PullRequestPage} />\r\n        <Route path=\"/settings\" component={SettingsPage} />\r\n        <Route path=\"/logout\" component={LogoutPage} />\r\n        <Route component={NotFoundPage} />\r\n      </Switch>\r\n    </div>\r\n    </Router>\r\n  );\r\n\r\n}\r\n\r\nexport default App;","import { ReportHandler } from 'web-vitals';\r\n\r\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport reportWebVitals from './reportWebVitals';\r\n\r\n// Use asm syntax highlighting from Compiler Explorer\r\nimport './asm-mode.js';\r\n\r\n// Set up custom monaco background color  \r\n/*monaco.editor.defineTheme('customTheme', {\r\n  base: 'vs-dark',\r\n  inherit: true,\r\n  rules: [\r\n  ],\r\n  colors: {\r\n    \"editor.background\": '#282932'\r\n  }\r\n});*/\r\n\r\nReactDOM.render(\r\n  // React strict mode does not work with react-simple-resizer\r\n  /*  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>*/\r\n  <App />,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}